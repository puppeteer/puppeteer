/*! For license information please see da4e83c3.bb4d2915.js.LICENSE.txt */
"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[93706],{28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var s=r(96540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}},29698:(e,n)=>{var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function i(e,n,s){var i=null;if(void 0!==s&&(i=""+s),void 0!==n.key&&(i=""+n.key),"key"in n)for(var t in s={},n)"key"!==t&&(s[t]=n[t]);else s=n;return n=s.ref,{$$typeof:r,type:e,key:i,ref:void 0!==n?n:null,props:s}}n.Fragment=s,n.jsx=i,n.jsxs=i},74848:(e,n,r)=>{e.exports=r(29698)},75032:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/screen-configuration","title":"Screen configuration","description":"Use --screen-info command line switch to configure headless screen.","source":"@site/versioned_docs/version-24.34.0/guides/screen-configuration.md","sourceDirName":"guides","slug":"/guides/screen-configuration","permalink":"/guides/screen-configuration","draft":false,"unlisted":false,"tags":[],"version":"24.34.0","frontMatter":{},"sidebar":"docs","previous":{"title":"Running Puppeteer in Chrome extensions","permalink":"/guides/running-puppeteer-in-extensions"},"next":{"title":"Window management","permalink":"/guides/window-management"}}');var i=r(74848),t=r(28453);const o={},a="Screen configuration",c={},d=[{value:"Dynamic headless screen configuration",id:"dynamic-headless-screen-configuration",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"screen-configuration",children:"Screen configuration"})}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.a,{href:"https://chromium.googlesource.com/chromium/src/+/main/components/headless/screen_info/README.md",children:(0,i.jsx)(n.code,{children:"--screen-info"})})," command line switch to configure headless screen."]}),"\n",(0,i.jsx)(n.p,{children:"The following script configures Chrome to run in a dual-screen configuration. The primary 800x600 screen is configured in a landscape orientation, and the secondary 600x800 screen, positioned directly to the right of the primary screen, is in a portrait orientation."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import puppeteer from 'puppeteer-core';\n\n(async () => {\n  const browser = await puppeteer.launch({\n    args: ['--screen-info={800x600 label=1st}{600x800 label=2nd}'],\n  });\n\n  const screens = await browser.screens();\n  const screenInfos = screens.map(\n    s =>\n      `Screen [${s.id}]` +\n      ` ${s.left},${s.top} ${s.width}x${s.height}` +\n      ` label='${s.label}'` +\n      ` isPrimary=${s.isPrimary}` +\n      ` isExtended=${s.isExtended}` +\n      ` isInternal=${s.isInternal}` +\n      ` colorDepth=${s.colorDepth}` +\n      ` devicePixelRatio=${s.devicePixelRatio}` +\n      ` avail=${s.availLeft},${s.availTop} ${s.availWidth}x${s.availHeight}` +\n      ` orientation.type=${s.orientation.type}` +\n      ` orientation.angle=${s.orientation.angle}`,\n  );\n\n  console.log(\n    `Number of screens: ${screens.length}\\n` + screenInfos.join('\\n'),\n  );\n\n  await browser.close();\n})();\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Number of screens: 2\nScreen [1] 0,0 800x600 label='1st' isPrimary=true isExtended=true isInternal=false colorDepth=24 devicePixelRatio=1 avail=0,0 800x600 orientation.type=landscapePrimary orientation.angle=0\nScreen [2] 800,0 600x800 label='2nd' isPrimary=false isExtended=true isInternal=false colorDepth=24 devicePixelRatio=1 avail=800,0 600x800 orientation.type=portraitPrimary orientation.angle=0\n"})}),"\n",(0,i.jsxs)(n.p,{children:["With no ",(0,i.jsx)(n.code,{children:"--screen-info"})," switch, the headless screen has one 800x600 screen unless the ",(0,i.jsx)(n.code,{children:"--window-size"})," switch is specified, in which case the headless screen is as large as the requested window size."]}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"--screen-info"})," switch is only available in headless mode. Headful Chrome always uses physical platform screens."]})}),"\n",(0,i.jsx)(n.h2,{id:"dynamic-headless-screen-configuration",children:"Dynamic headless screen configuration"}),"\n",(0,i.jsxs)(n.p,{children:["Use Puppeteer's ",(0,i.jsx)(n.a,{href:"https://pptr.dev/next/api/puppeteer.browser.addscreen",children:(0,i.jsx)(n.code,{children:"Browser.addScreen"})})," and ",(0,i.jsx)(n.a,{href:"https://pptr.dev/next/api/puppeteer.browser.removescreen",children:(0,i.jsx)(n.code,{children:"Browser.removeScreen"})})," methods to add and remove screens while Chrome browser is running. Use ",(0,i.jsx)(n.a,{href:"https://pptr.dev/next/api/puppeteer.browser.screens",children:(0,i.jsx)(n.code,{children:"Browser.screens"})})," method to retrieve the current screen configuration."]}),"\n",(0,i.jsx)(n.p,{children:"The following script adds and removes a secondary screen while logging the screen configuration at each step."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import puppeteer from 'puppeteer-core';\n\n(async () => {\n  const browser = await puppeteer.launch({\n    args: ['--screen-info={800x600 label=1st}'],\n  });\n\n  function getScreenInfo(s) {\n    return (\n      `Screen [${s.id}]` +\n      ` ${s.left},${s.top} ${s.width}x${s.height}` +\n      ` label='${s.label}'` +\n      ` isPrimary=${s.isPrimary}` +\n      ` isExtended=${s.isExtended}`\n    );\n  }\n\n  async function logScreenConfig(text) {\n    if (text !== undefined) {\n      console.log(text);\n    }\n    const screens = await browser.screens();\n    const screenInfos = screens.map(s => getScreenInfo(s));\n\n    console.log(\n      `Number of screens: ${screens.length}\\n` + screenInfos.join('\\n'),\n    );\n  }\n\n  await logScreenConfig('---- Initial:');\n\n  // Add a screen.\n  const addedScreenInfo = await browser.addScreen({\n    left: 800,\n    top: 0,\n    width: 800,\n    height: 600,\n    label: '2nd',\n  });\n\n  console.log('Added screen: ' + getScreenInfo(addedScreenInfo));\n  await logScreenConfig('---- With the screen added:');\n\n  // Remove the added screen.\n  await browser.removeScreen(addedScreenInfo.id);\n  await logScreenConfig('---- With added screen removed:');\n\n  await browser.close();\n})();\n"})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"---- Initial:\nNumber of screens: 1\nScreen [1] 0,0 800x600 label='1st' isPrimary=true isExtended=false\nAdded screen: Screen [2] 800,0 800x600 label='2nd' isPrimary=false isExtended=true\n---- With the screen added:\nNumber of screens: 2\nScreen [1] 0,0 800x600 label='1st' isPrimary=true isExtended=true\nScreen [2] 800,0 800x600 label='2nd' isPrimary=false isExtended=true\n---- With added screen removed:\nNumber of screens: 1\nScreen [1] 0,0 800x600 label='1st' isPrimary=true isExtended=false\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Browser.addScreen"})," and ",(0,i.jsx)(n.code,{children:"Browser.removeScreen"})," methods are only available in headless mode. The ",(0,i.jsx)(n.code,{children:"Browser.screens"})," method is available in both headful and headless modes."]})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);